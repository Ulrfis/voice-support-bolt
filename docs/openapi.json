{"components":{"responses":{},"schemas":{"ErrorResponse":{"description":"Error response with message","properties":{"error":{"description":"Error message","type":"string"}},"required":["error"],"title":"ErrorResponse","type":"object"},"Event":{"description":"A thread event (audio_data excluded)","example":{"at":"2025-01-01T00:00:00Z","duration":500,"id":1,"inserted_at":"2025-01-01T00:00:00Z","offset":1000,"text_data":"Hello world","thread_id":1,"type":"text","updated_at":"2025-01-01T00:00:00Z"},"properties":{"at":{"format":"date-time","type":"string"},"audio_format":{"nullable":true,"type":"string"},"audio_waveform":{"description":"Base64 encoded audio waveform","format":"byte","nullable":true,"type":"string"},"duration":{"description":"Duration in milliseconds","type":"integer"},"id":{"readOnly":true,"type":"integer"},"inserted_at":{"format":"date-time","readOnly":true,"type":"string"},"offset":{"description":"Offset in milliseconds","type":"integer"},"struct_data":{"nullable":true},"struct_path":{"items":{"type":"string"},"nullable":true,"type":"array"},"struct_priority":{"nullable":true,"type":"integer"},"struct_verb":{"enum":["set","insert","delete"],"nullable":true,"type":"string"},"text_data":{"nullable":true,"type":"string"},"thread_id":{"readOnly":true,"type":"integer"},"type":{"enum":["audio","text","struct"],"type":"string"},"updated_at":{"format":"date-time","readOnly":true,"type":"string"}},"title":"Event","type":"object"},"EventsResponse":{"description":"Response schema for multiple events with cursor pagination","properties":{"cursor":{"description":"Current cursor position","nullable":true,"type":"integer"},"data":{"items":{"$ref":"#/components/schemas/Event"},"minLength":0,"type":"array"},"limit":{"description":"Number of items per page","maximum":100,"minimum":1,"type":"integer"},"next_cursor":{"description":"Next cursor for pagination","nullable":true,"type":"integer"}},"required":["data","cursor","next_cursor","limit"],"title":"EventsResponse","type":"object"},"Extraction":{"description":"A extraction represents a processing unit that\n      transforms input data according to a model schema","example":{"id":1,"input":"Extract customer info from: John Doe, order #12345...","inserted_at":"2023-06-15T10:29:45Z","output":{"customer_name":"John Doe","order_number":"12345"},"status":"succeeded","type":"extraction","updated_at":"2023-06-15T10:30:15Z"},"properties":{"id":{"readOnly":true,"type":"integer"},"input":{"description":"Raw text input data","maxLength":1000000,"type":"string"},"inserted_at":{"description":"When the extraction was created","format":"date-time","type":"string"},"model_id":{"description":"Model ID for extraction extractions","type":"integer"},"output":{"description":"Structured output data conforming to model schema","type":"object"},"status":{"description":"Current processing status of the extraction","enum":["new","running","succeeded","failed"],"type":"string"},"updated_at":{"description":"When the extraction was last updated","format":"date-time","type":"string"},"webhook_url":{"description":"Webhook URL for completion notifications","format":"uri","maxLength":10000,"type":"string"}},"required":["type"],"title":"Extraction","type":"object"},"ExtractionRequest":{"description":"POST body for creating a extraction","example":{"extraction":{"id":1,"input":"Extract customer info from: John Doe, order #12345...","inserted_at":"2023-06-15T10:29:45Z","output":{"customer_name":"John Doe","order_number":"12345"},"status":"succeeded","type":"extraction","updated_at":"2023-06-15T10:30:15Z"}},"properties":{"extraction":{"anyOf":[{"$ref":"#/components/schemas/Extraction"}]}},"required":["extraction"],"title":"ExtractionRequest","type":"object"},"ExtractionResponse":{"description":"Response schema for single extraction","properties":{"data":{"$ref":"#/components/schemas/Extraction"}},"title":"ExtractionResponse","type":"object"},"ExtractionsResponse":{"description":"Response schema for multiple extractions with cursor pagination","properties":{"cursor":{"description":"Current cursor position","nullable":true,"type":"integer"},"data":{"items":{"$ref":"#/components/schemas/Extraction"},"minLength":0,"type":"array"},"limit":{"description":"Number of items per page","maximum":100,"minimum":1,"type":"integer"},"next_cursor":{"description":"Next cursor for pagination","nullable":true,"type":"integer"}},"required":["data","cursor","next_cursor","limit"],"title":"ExtractionsResponse","type":"object"},"Field":{"example":{"fields":[{"name":"first_name","type":"string"},{"name":"last_name","type":"string"}],"name":"person","type":"object"},"minLength":0,"properties":{"description":{"description":"Description","type":"string"},"fields":{"items":{"$ref":"#/components/schemas/Field"},"minLength":0,"type":"array"},"item":{"$ref":"#/components/schemas/Field"},"name":{"description":"Name","type":"string"},"prompt":{"description":"Prompt","type":"string"},"type":{"description":"Type","enum":["string","numer","array","object","boolean"],"type":"string"}},"required":["type"],"title":"Field","type":"object"},"Model":{"description":"A model definition","example":{"description":"Extract person information from text","id":1,"name":"Person model","output_language":"en","prompt":"Extract person data from the following text...","schema":{"fields":[{"name":"first_name","type":"string"},{"name":"last_name","type":"string"}],"name":"person","type":"object"}},"properties":{"description":{"description":"Model description","type":"string"},"id":{"readOnly":true,"type":"integer"},"name":{"description":"Model name","type":"string"},"output_language":{"description":"Output language code","enum":["fr","de","en","fr_CH","en_US"],"type":"string"},"prompt":{"description":"LLM prompt template","type":"string"},"schema":{"$ref":"#/components/schemas/Field"}},"required":["name"],"title":"Model","type":"object"},"ModelRequest":{"description":"POST body for creating a model","example":{"model":{"description":"Extract person information from text","name":"Person model","output_language":"en","prompt":"Extract person data from the following text...","schema":{"fields":[{"name":"first_name","type":"string"},{"name":"last_name","type":"string"}],"name":"person","type":"object"}}},"properties":{"model":{"anyOf":[{"$ref":"#/components/schemas/Model"}]}},"required":["model"],"title":"ModelRequest","type":"object"},"ModelResponse":{"description":"Response schema for single model","properties":{"data":{"$ref":"#/components/schemas/Model"}},"title":"ModelResponse","type":"object"},"ModelsResponse":{"description":"Response schema for multiple models with cursor pagination","properties":{"cursor":{"description":"Current cursor position","nullable":true,"type":"integer"},"data":{"items":{"$ref":"#/components/schemas/Model"},"minLength":0,"type":"array"},"limit":{"description":"Number of items per page","maximum":100,"minimum":1,"type":"integer"},"next_cursor":{"description":"Next cursor for pagination","nullable":true,"type":"integer"}},"required":["data","cursor","next_cursor","limit"],"title":"ModelsResponse","type":"object"},"Portal":{"description":"A portal definition","example":{"description":"Portal for customer support interactions","id":1,"inserted_at":"2025-01-01T00:00:00Z","language":"en","model_id":1,"name":"Customer Support Portal","updated_at":"2025-01-01T00:00:00Z","webhook_url":"https://example.com/webhook","workspace_id":1},"properties":{"description":{"description":"Portal description","maxLength":500,"nullable":true,"type":"string"},"id":{"readOnly":true,"type":"integer"},"inserted_at":{"format":"date-time","readOnly":true,"type":"string"},"language":{"description":"Portal language code","enum":["fr","de","en","fr_CH","en_US"],"type":"string"},"model_id":{"description":"ID of the model associated with this portal","type":"integer"},"name":{"description":"Portal name","maxLength":100,"minLength":2,"type":"string"},"updated_at":{"format":"date-time","readOnly":true,"type":"string"},"webhook_url":{"description":"Webhook URL for notifications","maxLength":10000,"nullable":true,"type":"string"},"workspace_id":{"readOnly":true,"type":"integer"}},"required":["name","model_id"],"title":"Portal","type":"object"},"PortalRequest":{"description":"POST/PUT body for creating/updating a portal","example":{"portal":{"description":"Portal for customer support interactions","language":"en","model_id":1,"name":"Customer Support Portal","webhook_url":"https://example.com/webhook"}},"properties":{"portal":{"anyOf":[{"$ref":"#/components/schemas/Portal"}]}},"required":["portal"],"title":"PortalRequest","type":"object"},"PortalResponse":{"description":"Response schema for single portal","properties":{"data":{"$ref":"#/components/schemas/Portal"}},"title":"PortalResponse","type":"object"},"PortalsResponse":{"description":"Response schema for multiple portals with cursor pagination","properties":{"cursor":{"description":"Current cursor position","nullable":true,"type":"integer"},"data":{"items":{"$ref":"#/components/schemas/Portal"},"minLength":0,"type":"array"},"limit":{"description":"Number of items per page","maximum":100,"minimum":1,"type":"integer"},"next_cursor":{"description":"Next cursor for pagination","nullable":true,"type":"integer"}},"required":["data","cursor","next_cursor","limit"],"title":"PortalsResponse","type":"object"},"ResolvedResponse":{"description":"Freeform JSON response containing the resolved thread struct data. The structure depends on the struct events that were applied to the thread.","example":{"items":["Item 1","Item 2"],"title":"Example Thread"},"title":"ResolvedResponse"},"Thread":{"description":"A thread definition (without event data)","example":{"duration":5000,"id":1,"inserted_at":"2025-01-01T00:00:00Z","portal_id":1,"updated_at":"2025-01-01T00:00:00Z","workspace_id":1},"properties":{"duration":{"description":"Thread duration in milliseconds","nullable":true,"type":"integer"},"id":{"readOnly":true,"type":"integer"},"inserted_at":{"format":"date-time","readOnly":true,"type":"string"},"portal_id":{"nullable":true,"readOnly":true,"type":"integer"},"updated_at":{"format":"date-time","readOnly":true,"type":"string"},"workspace_id":{"readOnly":true,"type":"integer"}},"title":"Thread","type":"object"},"ThreadRequest":{"description":"POST body for creating a thread","example":{"thread":{"duration":0}},"properties":{"thread":{"properties":{"duration":{"description":"Thread duration in milliseconds","nullable":true,"type":"integer"}},"type":"object"}},"title":"ThreadRequest","type":"object"},"ThreadResponse":{"description":"Response schema for single thread","properties":{"data":{"$ref":"#/components/schemas/Thread"}},"title":"ThreadResponse","type":"object"},"ThreadsResponse":{"description":"Response schema for multiple threads with cursor pagination","properties":{"cursor":{"description":"Current cursor position","nullable":true,"type":"integer"},"data":{"items":{"$ref":"#/components/schemas/Thread"},"minLength":0,"type":"array"},"limit":{"description":"Number of items per page","maximum":100,"minimum":1,"type":"integer"},"next_cursor":{"description":"Next cursor for pagination","nullable":true,"type":"integer"}},"required":["data","cursor","next_cursor","limit"],"title":"ThreadsResponse","type":"object"},"Workspace":{"description":"A workspace contains all objects","example":{"id":1,"name":"My Workspace"},"properties":{"id":{"readOnly":true,"type":"integer"},"name":{"description":"Workspace name","type":"string"}},"required":["name"],"title":"Workspace","type":"object"},"WorkspaceResponse":{"description":"Response schema for single workspace","properties":{"data":{"$ref":"#/components/schemas/Workspace"}},"title":"WorkspaceResponse","type":"object"},"WorkspacesResponse":{"description":"Response schema for multiple workspaces with cursor pagination","properties":{"cursor":{"description":"Current cursor position","nullable":true,"type":"integer"},"data":{"items":{"$ref":"#/components/schemas/Workspace"},"minLength":0,"type":"array"},"limit":{"description":"Number of items per page","maximum":100,"minimum":1,"type":"integer"},"next_cursor":{"description":"Next cursor for pagination","nullable":true,"type":"integer"}},"required":["data","cursor","next_cursor","limit"],"title":"WorkspacesResponse","type":"object"}},"securitySchemes":{"authorization":{"scheme":"bearer","type":"https"}}},"info":{"description":"# Gami API\n\nThe Gami API provides a streamlined workflow for transforming unstructured data\ninto schema-compliant structured data using a simplified extraction-based architecture.\n\n## Gami SDK\n\nThe browser SDK provides an easy way to use the Gami API.\n\n[Browser SDK documentation](/api/docs/sdk/index.html)\n\n## Workflow Overview\n\n**1. Model Creation**\n- Define a **model** with its associated **schema** (extended JSON Schema format)\n- The schema specifies the structure, data types, and validation rules for the\n  desired output format\n\n**2. Extraction Creation**\n- Create a **extraction** - a self-contained processing unit that manages the complete\n  transformation workflow\n- Each extraction is linked to a model and contains both input data and processing\n  results\n\n**3. Input Data Submission**\n- Submit **input data** directly to the extraction\n- Input can be provided as raw text or structured JSON data\n- The extraction stores the input data for processing\n\n**4. Processing Execution**\n- Extractions are automatically queued and processed according to the model schema\n- The system handles the data transformation from unstructured to structured\n  format\n- Processing status is tracked throughout the extraction lifecycle\n\n**5. Output Retrieval**\n- Completed extractions contain the **structured output** that conforms to your\n  defined schema\n- Results are directly accessible from the extraction, maintaining clear linkage\n  between input and output\n\n## Data Flow\n\n```\nModel Schema → Extraction (Input Data) → Processing → Extraction (Output Results)\n```\n\nThis streamlined workflow eliminates intermediate steps while maintaining\ncomplete traceability between raw input and structured output within each extraction.\n\n## Authorization\n\nAll API requests require authentication using a Bearer token. Include your API key in the ```Authorization``` header with the following format:\n\n```\nAuthorization: Bearer YOUR_API_KEY\n```\n\n**Header Requirements:**\n- **Header Name**: ```Authorization```\n- **Token Type**: ```Bearer```\n- **Value**: Your assigned API key\n\n**Example:**\n```\nAuthorization: Bearer gami_ak_1234567890abcdef\n```\n\nRequests without proper authorization will return a ```401 Unauthorized``` response.\n\n","title":"gami","version":"1.1.3"},"openapi":"3.0.0","paths":{"/api/v1/extractions/{id}":{"delete":{"callbacks":{},"deprecated":false,"description":"Delete a extraction and all associated data. Running extractions cannot be deleted.","parameters":[{"description":"Extraction ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"204":{"description":"Empty response"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Bad Request"}},"security":[{"authorization":[]}],"summary":"Delete extraction","tags":["Extractions"]},"get":{"callbacks":{},"deprecated":false,"description":"Show a extraction by ID with its input data, output results,\n      and processing status.","operationId":"ExtractionController.show","parameters":[{"description":"Extraction ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExtractionResponse"}}},"description":"Extraction"}},"security":[{"authorization":[]}],"summary":"Show extraction","tags":["Extractions"]}},"/api/v1/models/{id}":{"delete":{"callbacks":{},"deprecated":false,"description":"Delete a model. Models with running jobs cannot be deleted.","operationId":" (3)","parameters":[{"description":"Model ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"204":{"description":"Empty response"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Bad Request"}},"security":[{"authorization":[]}],"summary":"Delete model","tags":["Models"]},"get":{"callbacks":{},"deprecated":false,"description":"Show a model by ID with the full schema.","operationId":"ModelController.show","parameters":[{"description":"Model ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelResponse"}}},"description":"Model"}},"security":[{"authorization":[]}],"summary":"Show model","tags":["Models"]},"patch":{"callbacks":{},"deprecated":false,"description":"Updating a model that has jobs will NOT rerun them.\n      If you modify the schema the existing job outputs will follow an outdated\n      schema structure.","operationId":" (4)","parameters":[{"description":"Model ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelRequest"}}},"description":"The model attributes","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelResponse"}}},"description":"Model"}},"security":[{"authorization":[]}],"summary":"Update model","tags":["Models"]},"put":{"callbacks":{},"deprecated":false,"description":"Updating a model that has jobs will NOT rerun them.\n      If you modify the schema the existing job outputs will follow an outdated\n      schema structure.","operationId":" (2)","parameters":[{"description":"Model ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelRequest"}}},"description":"The model attributes","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelResponse"}}},"description":"Model"}},"security":[{"authorization":[]}],"summary":"Update model","tags":["Models"]}},"/api/v1/portals/{id}":{"delete":{"callbacks":{},"deprecated":false,"description":"Delete a portal. Portals with associated threads cannot be deleted.","operationId":" (6)","parameters":[{"description":"Portal ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"204":{"description":"Empty response"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Bad Request - Portal has threads"}},"security":[{"authorization":[]}],"summary":"Delete portal","tags":["Portals"]},"get":{"callbacks":{},"deprecated":false,"description":"Show a portal by ID.","operationId":"PortalController.show","parameters":[{"description":"Portal ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortalResponse"}}},"description":"Portal"}},"security":[{"authorization":[]}],"summary":"Show portal","tags":["Portals"]},"patch":{"callbacks":{},"deprecated":false,"description":"Update a portal's attributes. When updating model_id, the new model must belong to the same workspace.","operationId":" (7)","parameters":[{"description":"Portal ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortalRequest"}}},"description":"The portal attributes","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortalResponse"}}},"description":"Portal"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Forbidden - Model does not belong to workspace"}},"security":[{"authorization":[]}],"summary":"Update portal","tags":["Portals"]},"put":{"callbacks":{},"deprecated":false,"description":"Update a portal's attributes. When updating model_id, the new model must belong to the same workspace.","operationId":" (5)","parameters":[{"description":"Portal ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortalRequest"}}},"description":"The portal attributes","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortalResponse"}}},"description":"Portal"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Forbidden - Model does not belong to workspace"}},"security":[{"authorization":[]}],"summary":"Update portal","tags":["Portals"]}},"/api/v1/portals/{portal_id}/threads":{"get":{"callbacks":{},"deprecated":false,"description":"Threads are scoped to portals. Results are paginated using cursor-based pagination with threads sorted by ID in descending order (newest first).","operationId":" (8)","parameters":[{"description":"Portal ID","example":1,"in":"path","name":"portal_id","required":true,"schema":{"type":"integer"}},{"description":"Cursor for pagination (job ID to start after)","example":123,"in":"query","name":"cursor","required":false,"schema":{"type":"integer"}},{"description":"Maximum number of jobs to return","example":20,"in":"query","name":"limit","required":false,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThreadsResponse"}}},"description":"Threads"}},"security":[{"authorization":[]}],"summary":"List threads for portal","tags":["Threads"]},"post":{"callbacks":{},"deprecated":false,"description":"Create a thread for a portal.","operationId":" (9)","parameters":[{"description":"Portal ID","example":1,"in":"path","name":"portal_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThreadRequest"}}},"description":"The thread attributes","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThreadResponse"}}},"description":"Thread"}},"security":[{"authorization":[]}],"summary":"Create thread","tags":["Threads"]}},"/api/v1/threads/{id}":{"delete":{"callbacks":{},"deprecated":false,"description":"Delete a thread.","operationId":" (10)","parameters":[{"description":"Thread ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"204":{"description":"Empty response"}},"security":[{"authorization":[]}],"summary":"Delete thread","tags":["Threads"]},"get":{"callbacks":{},"deprecated":false,"description":"Show a thread by ID (without event data).","operationId":"ThreadController.show","parameters":[{"description":"Thread ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThreadResponse"}}},"description":"Thread"}},"security":[{"authorization":[]}],"summary":"Show thread","tags":["Threads"]}},"/api/v1/threads/{id}/resolve":{"get":{"callbacks":{},"deprecated":false,"description":"Returns the resolved struct data for a thread by applying all struct events in chronological order. The response is freeform JSON whose structure depends on the events.","operationId":"ThreadController.resolve","parameters":[{"description":"Thread ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResolvedResponse"}}},"description":"Resolved struct"}},"security":[{"authorization":[]}],"summary":"Get resolved thread struct","tags":["Threads"]}},"/api/v1/threads/{id}/transcript":{"get":{"callbacks":{},"deprecated":false,"description":"Returns the full transcript text for a thread by concatenating all text events in chronological order.","operationId":"ThreadController.transcript","parameters":[{"description":"Thread ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"text/plain":{}},"description":"Transcript text"}},"security":[{"authorization":[]}],"summary":"Get full transcript","tags":["Threads"]}},"/api/v1/threads/{thread_id}/events":{"get":{"callbacks":{},"deprecated":false,"description":"List all events for a thread. Results are paginated using cursor-based pagination with events sorted by ID in descending order (newest first). Audio data is excluded from events.","operationId":" (11)","parameters":[{"description":"Thread ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}},{"description":"Cursor for pagination (job ID to start after)","example":123,"in":"query","name":"cursor","required":false,"schema":{"type":"integer"}},{"description":"Maximum number of jobs to return","example":20,"in":"query","name":"limit","required":false,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventsResponse"}}},"description":"Events"}},"security":[{"authorization":[]}],"summary":"List events for thread","tags":["Threads"]}},"/api/v1/workspaces":{"get":{"callbacks":{},"deprecated":false,"description":"List all workspaces accessible to the API key. At present, an API key can access a single workspace. Results are paginated using cursor-based pagination with workspaces sorted by ID in descending order (newest first).","operationId":" (12)","parameters":[{"description":"Cursor for pagination (job ID to start after)","example":123,"in":"query","name":"cursor","required":false,"schema":{"type":"integer"}},{"description":"Maximum number of jobs to return","example":20,"in":"query","name":"limit","required":false,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkspacesResponse"}}},"description":"Workspaces"}},"security":[{"authorization":[]}],"summary":"List workspaces","tags":["Workspaces"]}},"/api/v1/workspaces/{id}":{"get":{"callbacks":{},"deprecated":false,"description":"Show a workspace by ID accessible to the API key.","operationId":" (13)","parameters":[{"description":"Workspace ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkspaceResponse"}}},"description":"Workspace"}},"security":[{"authorization":[]}],"summary":"Show workspace","tags":["Workspaces"]}},"/api/v1/workspaces/{workspace_id}/extractions":{"get":{"callbacks":{},"deprecated":false,"description":"Extractions are scoped to workspaces through their associated\n      models. Results are paginated using cursor-based pagination with extractions\n      sorted by ID in descending order (newest first).","operationId":" (14)","parameters":[{"description":"Workspace ID","example":1,"in":"path","name":"workspace_id","required":true,"schema":{"type":"integer"}},{"description":"Cursor for pagination (job ID to start after)","example":123,"in":"query","name":"cursor","required":false,"schema":{"type":"integer"}},{"description":"Maximum number of jobs to return","example":20,"in":"query","name":"limit","required":false,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExtractionsResponse"}}},"description":"Extractions"}},"security":[{"authorization":[]}],"summary":"List extractions in workspace","tags":["Extractions"]},"post":{"callbacks":{},"deprecated":false,"description":"Create a extraction to process input data according to the\n      model schema. The extraction will be queued for processing.","operationId":" (15)","parameters":[{"description":"Model ID","example":1,"in":"path","name":"model_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExtractionRequest"}}},"description":"The extraction attributes","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExtractionResponse"}}},"description":"Extraction"}},"security":[{"authorization":[]}],"summary":"Create extraction","tags":["Extractions"]}},"/api/v1/workspaces/{workspace_id}/models":{"get":{"callbacks":{},"deprecated":false,"description":"Models are scoped to workspaces as child objects. Results are paginated using cursor-based pagination with models sorted by ID in descending order (newest first).","operationId":" (16)","parameters":[{"description":"Workspace ID","example":1,"in":"path","name":"workspace_id","required":true,"schema":{"type":"integer"}},{"description":"Cursor for pagination (job ID to start after)","example":123,"in":"query","name":"cursor","required":false,"schema":{"type":"integer"}},{"description":"Maximum number of jobs to return","example":20,"in":"query","name":"limit","required":false,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelsResponse"}}},"description":"Model"}},"security":[{"authorization":[]}],"summary":"List models in workspace","tags":["Models"]},"post":{"callbacks":{},"deprecated":false,"description":"Create a model to specify the schema structure.","operationId":" (17)","parameters":[{"description":"Workspace ID","example":1,"in":"path","name":"workspace_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelRequest"}}},"description":"The model attributes","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelResponse"}}},"description":"Model"}},"security":[{"authorization":[]}],"summary":"Create model","tags":["Models"]}},"/api/v1/workspaces/{workspace_id}/portals":{"get":{"callbacks":{},"deprecated":false,"description":"Portals are scoped to workspaces as child objects. Results are paginated using cursor-based pagination with portals sorted by ID in descending order (newest first).","operationId":" (18)","parameters":[{"description":"Workspace ID","example":1,"in":"path","name":"workspace_id","required":true,"schema":{"type":"integer"}},{"description":"Cursor for pagination (job ID to start after)","example":123,"in":"query","name":"cursor","required":false,"schema":{"type":"integer"}},{"description":"Maximum number of jobs to return","example":20,"in":"query","name":"limit","required":false,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortalsResponse"}}},"description":"Portals"}},"security":[{"authorization":[]}],"summary":"List portals in workspace","tags":["Portals"]},"post":{"callbacks":{},"deprecated":false,"description":"Create a portal associated with a model. The model must belong to the same workspace.","operationId":" (19)","parameters":[{"description":"Workspace ID","example":1,"in":"path","name":"workspace_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortalRequest"}}},"description":"The portal attributes","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortalResponse"}}},"description":"Portal"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Forbidden - Model does not belong to workspace"}},"security":[{"authorization":[]}],"summary":"Create portal","tags":["Portals"]}}},"security":[],"servers":[{"url":"https://gamilab.ch","variables":{}}],"tags":[{"description":"Workspaces serve as the top-level containers for all resources in the system.\nEach workspace acts as an isolated namespace that contains models and jobs,\nproviding clear separation between different projects or use cases.\n\n**Authentication & Access:**\n- API keys are workspace-scoped and provide access to a single workspace\n- All API operations are performed within the context of the authenticated workspace\n- Cross-workspace access is not permitted\n\n**Resource Organization:**\n- Models are created within workspaces and define data extraction schemas\n- Extractions execute within workspaces using workspace-owned models\n- All resources inherit the workspace's access permissions\n\n**API Operations:**\n- `GET /api/v1/workspaces` - List accessible workspaces (returns single workspace for current API key)\n- `GET /api/v1/workspaces/{id}` - Retrieve workspace details\n\n**Current Limitations:**\nAt present, each API key can only access a single workspace. Future versions may\nsupport multi-workspace access patterns.\n\n\n","name":"Workspaces"},{"description":"Models define the structured data schemas used by extraction extractions to transform unstructured text into consistent, validated JSON output. They serve as the blueprint that governs how raw input data gets converted into structured records within workspaces.\n\n**Workspace Integration:**\n- Models belong to specific workspaces and are scoped to workspace access\n- Models can only be used by extractions within the same workspace\n- All model operations require workspace-level authorization\n\n**Schema Structure:**\n- **Hierarchical Fields**: Nested object structures with typed field definitions\n- **Field Types**: Support for strings, numbers, booleans, arrays, and nested objects\n- **Field Metadata**: Names, descriptions, and prompts guide data extraction\n- **Validation Rules**: Type constraints ensure output data consistency\n\n**Model Lifecycle:**\n- **Creation**: Models are created within workspaces with defined schemas\n- **Usage**: Extractions reference models for data extraction processing\n- **Protection**: Models with running extractions cannot be deleted\n- **Persistence**: Models remain available for reuse across multiple extractions\n\n**API Operations:**\n- `GET /api/v1/workspaces/{workspace_id}/models` - List models in workspace (paginated, schema excluded)\n- `POST /api/v1/workspaces/{workspace_id}/models` - Create new model with schema\n- `GET /api/v1/models/{id}` - Retrieve model with complete schema definition\n- `PUT /api/v1/models/{id}` - Update model schema and metadata\n- `DELETE /api/v1/models/{id}` - Delete model (blocked if running extractions exist)\n\n**Data Management:**\n- Collection responses exclude schema fields for performance\n- Individual model responses include complete schema definitions\n- Models cannot be deleted while extractions are actively using them\n\n**Processing Integration:**\n- Extraction extractions require a model_id to define output structure\n- Processing system uses model schemas to validate and structure extraction outputs\n- Model schemas guide the AI processing to extract relevant information\n\n**Schema Flexibility:**\n- Support for complex nested structures and arrays\n- Descriptive field prompts help guide extraction accuracy\n- Reusable across multiple extractions with similar data extraction needs\n\n\n","name":"Models"},{"description":"Extractions are the primary processing units that transform input data according\nto model schemas within workspaces. They encapsulate the complete data\ntransformation workflow from input through processing to structured output\nresults.\n\n**Workspace Integration:**\n- Extractions belong to specific workspaces and use workspace-owned models\n- All extraction operations are scoped to the authenticated workspace\n- Extractions cannot access models or resources from other workspaces\n\n- **Extraction Extractions**: Transform unstructured input text into structured data using model schemas\n\n**Processing Lifecycle:**\n- **Pending**: Extraction is queued and awaiting processing\n- **Running**: Extraction is actively being processed (cannot be modified or deleted)\n- **Completed**: Extraction finished successfully with structured output\n- **Failed**: Extraction encountered an error during processing\n\n**Input/Output:**\n- **Input**: Raw text data provided when creating the extraction\n- **Output**: Structured JSON data conforming to the associated model schema\n- **Metadata**: Processing timestamps, status messages, and review URLs\n\n**API Operations:**\n- `GET /api/v1/workspaces/{workspace_id}/extractions` - List extractions in workspace (paginated)\n- `POST /api/v1/workspaces/{workspace_id}/extractions` - Create new extraction\n- `GET /api/v1/extractions/{id}` - Retrieve extraction with full details including input/output\n- `PUT /api/v1/extractions/{id}` - Update extraction (only when status is pending)\n- `DELETE /api/v1/extractions/{id}` - Delete extraction (only when status is pending)\n\n**Processing Constraints:**\n- Running extractions cannot be updated or deleted\n- Only pending extractions can be modified\n- Extraction processing is handled by the background processing system\n\n**Data Management:**\n- Collection responses exclude input/output fields for performance\n- Individual extraction responses include complete data and processing metadata\n- Review URLs provide access to extraction results via web interface\n","name":"Extractions"},{"description":"Portals provide interactive interfaces for models, allowing users to collect data through threads. Each portal is associated with a model and enables real-time data collection and processing.\n\n**Model Integration:**\n- Portals are created for specific models\n- Each portal inherits the model's schema and processing capabilities\n- Multiple portals can be created for the same model\n\n**Thread Management:**\n- Threads are created within portals to capture user interactions\n- Each thread contains events (audio, text, struct) that represent collected data\n- Threads can be resolved to produce structured output based on struct events\n\n**API Operations:**\n- `GET /api/v1/workspaces/{workspace_id}/portals` - List portals in workspace (paginated)\n- `POST /api/v1/workspaces/{workspace_id}/portals` - Create new portal\n- `GET /api/v1/portals/{id}` - Retrieve portal details\n- `PUT /api/v1/portals/{id}` - Update portal configuration\n- `DELETE /api/v1/portals/{id}` - Delete portal and associated threads\n\n**Access Control:**\n- Portals are workspace-scoped and inherit workspace permissions\n- Portal access requires valid workspace authentication\n","name":"Portals"},{"description":"Threads capture sequences of events within portals, representing user interactions and data collection sessions. Each thread maintains a timeline of events that can be resolved into structured data.\n\n**Portal Integration:**\n- Threads belong to specific portals\n- All thread operations are scoped to the parent portal's workspace\n- Threads inherit access controls from their workspace\n\n**Event Types:**\n- **Audio Events**: Audio data with format, waveform, and duration metadata\n- **Text Events**: Textual data with timing information\n- **Struct Events**: Structured data operations (set, insert, delete) for building final output\n\n**Event Resolution:**\n- Struct events are applied in chronological order to build the final data structure\n- The resolved output can be any JSON type (object, array, primitive)\n- Events use priority-based ordering for conflict resolution\n\n**API Operations:**\n- `GET /api/v1/portals/{portal_id}/threads` - List threads for portal (paginated)\n- `POST /api/v1/portals/{portal_id}/threads` - Create new thread\n- `GET /api/v1/threads/{id}` - Retrieve thread metadata\n- `DELETE /api/v1/threads/{id}` - Delete thread and all events\n- `GET /api/v1/threads/{thread_id}/events` - List events for thread (paginated)\n- `GET /api/v1/threads/{id}/resolve` - Get resolved struct data from thread events\n\n**Data Structure:**\n- Threads track duration in milliseconds\n- Events are ordered by offset (timestamp within thread)\n- Resolved output structure is determined by struct events\n\n**Performance:**\n- Event listings exclude audio data for efficiency\n- Individual events can be retrieved with full audio data when needed\n- Resolution is computed on-demand from struct events\n","name":"Threads"}]}